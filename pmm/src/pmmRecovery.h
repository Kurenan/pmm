/* pmmRecovery.h
 * Code for the rocket recovery system.
 *
 * By Henrique Bruno Fantauzzi de Almeida (aka SrBrahma)
 * and Marcelo Maronas
 * Minerva Rockets, UFRJ, Rio de Janeiro - Brazil */

#ifndef PMM_RECOVERY_h
#define PMM_RECOVERY_h
/*
//Moving average variables
#define RECOVERY_AVERAGE_LENGTH 5 //Size of samples for moving average code
float recHolder; //Value holder need to exchage values in vector
float recHolder2; //Value holder need to exchage values in vector
int movingAverageCount = 0; //Counter to reset the moving average iteration
float barometerFiltered; //Final value of average represented by sum of all vector altitude and dividing it by RECOVERY_AVERAGE_LENGTH

//---------------- Recovery ------------------//
#define REC_COUNT_NEEDED 8 //3 cycles of barometerDelay + 5 counters for recovery
float recThreshold = 0.05; //Altitude difference for recovery counting
float lastAltitude; //Last altitude logged, used for recovery code
bool recoveryActivated = 0; //Boolean reporting if recovery was activated
int recCount = 0; //Counter for recovery code, if recCount > REC_COUNT_NEEDED, then recovery is activated
int recLevel = 0; //Variable for next step in code, using recursion for recovery code, not implemented yet
float recBuffer[RECOVERY_AVERAGE_LENGTH]; //Array holding the barometer values for the moving average code
*/
#endif
